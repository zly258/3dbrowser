/**
 * 本地化翻译资源
 * 包含中英文双语支持
 */
export type Lang = 'zh' | 'en';
export type TFunc = (key: string) => string;
export type ProgressCallback = (percent: number, msg?: string) => void;

const resources: Record<Lang, Record<string, string>> = {
    en: {
        home: "Home",
        menu_open_file: "Open File",
        menu_open_folder: "Open Folder",
        menu_open_url: "Open URL",
        menu_batch_convert: "Batch Convert",
        menu_file: "File",
        menu_export: "Export",
        interface_display: "Display",
        view: "View", 
        menu_fit_view: "Fit View",
        view_top: "Top",
        view_bottom: "Bottom",
        view_front: "Front",
        view_back: "Back",
        view_left: "Left",
        view_right: "Right",
        view_se: "SE",
        view_sw: "SW",
        view_ne: "NE",
        view_nw: "NW",
        cube_top: "Top",
        cube_bottom: "Bottom",
        cube_front: "Front",
        cube_back: "Back",
        cube_left: "Left",
        cube_right: "Right",
        
        op_pick: "Pick",
        op_clear: "Clear",
        tool_measure: "Measure",
        tool: "Tools",
        tool_clip: "Section",
        settings: "Settings",
        setting_general: "Preferences",
        interface_outline: "Structures",
        interface_props: "Properties",
        status_ready: "Ready",
        loading_resources: "Loading resources...",
        analyzing: "Analyzing...",
        reading: "Reading",
        success: "Operation Successful",
        failed: "Failed",
        processing: "Processing",
        no_selection: "No selection",
        no_measurements: "No measurements",
        search_nodes: "Search nodes...",
        search_props: "Search properties...",
        expand_all: "Expand All",
        collapse_all: "Collapse All",
        ctx_show_all: "Show All",
        ctx_hide_selection: "Hide Selection",
        monitor_meshes: "Mesh",
        monitor_faces: "Faces",
        monitor_mem: "Mem",
        monitor_calls: "Calls",
        selected_count: "Selected",
        tips_rotate: "LMB: Rotate",
        tips_pan: "MMB: Pan",
        tips_zoom: "Scroll: Zoom",
        confirm_delete: "Confirm delete",
        confirm_clear: "Are you sure you want to clear the scene?",
        app_title: "3D Browser - Professional Viewer",
        interface_display_short: "Display",
        view_perspective: "Perspective",
        view_ortho: "Orthographic",
        writing: "Writing files...",
        delete_item: "Delete Item",
        btn_confirm: "Confirm",
        btn_cancel: "Cancel",
        // 属性
        pg_basic: "Basic Information",
        pg_geo: "Geometry",
        prop_name: "Name",
        prop_id: "ID",
        prop_type: "Type",
        prop_pos: "Position",
        prop_dim: "Dimensions",
        prop_inst: "Instances",
        prop_vert: "Vertices",
        prop_tri: "Triangles",
        // 测量
        measure_title: "Measurement Tool",
        measure_type: "Type",
        measure_none: "None",
        measure_dist: "Distance",
        measure_angle: "Angle",
        measure_coord: "Coordinate",
        measure_instruct_dist: "Click 2 points to measure distance.",
        measure_instruct_angle: "Click 3 points (Start-Vertex-End).",
        measure_instruct_coord: "Click any point to get coordinates.",
        measure_clear: "Clear All",
        measure_start: "Start",
        measure_stop: "Stop",
        // 剖切
        clip_title: "Sectioning Tool",
        clip_enable: "Enable Clipping",
        clip_x: "X Axis",
        clip_y: "Y Axis",
        clip_z: "Z Axis",
        // 导出
        export_title: "Export Scene",
        export_format: "Format",
        export_glb: "GLB (Standard)",
        export_lmb: "LMB (Custom Compressed)",
        export_3dtiles: "3D Tiles (Web)",
        export_nbim: "NBIM (High Performance)",
        export_btn: "Export",
        // 设置
        st_lighting: "Lighting",
        st_ambient: "Ambient Int.",
        st_dir: "Direct Int.",
        st_bg: "Background",
        st_lang: "Language",
        st_import_settings: "Import Settings",
        st_theme: "Theme",
        st_monitor: "Show Performance Panel",
        st_instancing: "Instancing Render",
        st_viewport: "Viewport",
        st_viewcube_size: "ViewCube Size",
        st_frustum_culling: "Frustum Culling",
        unsupported_format: "Unsupported format",
        theme_dark: "Dark",
        theme_light: "Light",
        ready: "ready",
        all_chunks_loaded: "All model chunks loaded",
        loading_chunks: "Chunks",
        loading_cad_engine: "Loading CAD engine...",
        parsing_cad_data: "Parsing CAD data...",
        creating_geometry: "Creating geometry...",
        error_cad_parse_failed: "Failed to parse CAD file",
        model_loaded: "Model loaded",
        confirm_clear_title: "Clear Scene",
        confirm_clear_msg: "Are you sure you want to clear all models in the scene?",
        menu_about: "About",
        about_title: "About 3D Browser",
        about_author: "Author",
        about_license: "License",
        about_license_nc: "Non-commercial Use Only",
        error_title: "Application Error",
        error_msg: "Sorry, the application encountered an unexpected error. You can try reloading the page or contact the developer.",
        error_reload: "Reload Page",
        viewpoint_title: "Viewpoint Management",
        viewpoint_save: "Save Current Viewpoint",
        viewpoint_empty: "No saved viewpoints",
    },
    zh: {
        home: "首页",
        view_home: "主视图",
        menu_open_file: "打开文件",
        menu_open_folder: "打开目录",
        menu_open_url: "打开 URL",
        menu_batch_convert: "批量转换",
        menu_file: "文件",
        menu_export: "导出场景",
        interface_display: "界面",
        view: "视图", 
        menu_fit_view: "充满视图",
        view_top: "顶视",
        view_bottom: "底视",
        view_front: "前视",
        view_back: "后视",
        view_left: "左视",
        view_right: "右视",
        view_se: "东南",
        view_sw: "西南",
        view_ne: "东北",
        view_nw: "西北",
        cube_top: "顶",
        cube_bottom: "底",
        cube_front: "前",
        cube_back: "后",
        cube_left: "左",
        cube_right: "右",

        op_pick: "选取模型",
        op_clear: "清空场景",
        tool: "工具",
        tool_measure: "测量",
        tool_clip: "剖切",
        settings: "设置",
        setting_general: "全局设置",
        interface_outline: "模型结构",
        interface_props: "对象属性",
        status_ready: "就绪",
        loading_resources: "正在加载资源...",
        analyzing: "正在分析...",
        reading: "读取",
        success: "操作成功",
        failed: "失败",
        processing: "处理中",
        no_selection: "未选择对象",
        no_measurements: "无测量结果",
        search_nodes: "搜索节点...",
        search_props: "搜索属性...",
        expand_all: "全部展开",
        collapse_all: "全部折叠",
        ctx_show_all: "显示所有",
        ctx_hide_selection: "隐藏选择",
        monitor_meshes: "网格",
        monitor_faces: "面",
        monitor_mem: "显存",
        monitor_calls: "绘制",
        selected_count: "已选择",
        tips_rotate: "左键旋转",
        tips_pan: "中键平移",
        tips_zoom: "滚轮缩放",
        confirm_delete: "确定要删除吗？",
        confirm_clear: "确定要清空场景吗？",
        app_title: "3D Browser - 专业浏览器",
        interface_display_short: "显示",
        view_perspective: "透视",
        view_ortho: "正交",
        delete_item: "删除模型",
        btn_confirm: "确定",
        btn_cancel: "取消",
        // 属性
        pg_basic: "基本信息",
        pg_geo: "几何信息",
        prop_name: "名称",
        prop_id: "ID",
        prop_type: "类型",
        prop_pos: "位置",
        prop_dim: "尺寸",
        prop_inst: "实例数",
        prop_vert: "顶点数",
        prop_tri: "面数",
        // 测量
        measure_title: "测量面板",
        measure_type: "测量类型",
        measure_none: "无",
        measure_dist: "长度测量",
        measure_angle: "角度测量",
        measure_coord: "坐标测量",
        measure_instruct_dist: "请在场景中点击两个点以测量距离。",
        measure_instruct_angle: "请点击三个点测量角度 (起点-顶点-终点)。",
        measure_instruct_coord: "点击任意位置获取世界坐标。",
        measure_clear: "清空测量",
        measure_start: "开始测量",
        measure_stop: "停止测量",
        // 剖切
        clip_title: "剖切面板",
        clip_enable: "开启剖切",
        clip_x: "X 轴",
        clip_y: "Y 轴",
        clip_z: "Z 轴",
        // 导出
        export_title: "导出场景",
        export_format: "导出格式",
        export_glb: "GLB (标准通用)",
        export_lmb: "LMB (自定义压缩)",
        export_3dtiles: "3D Tiles (Web大模型)",
        export_nbim: "NBIM (高性能分块模型)",
        export_btn: "开始导出",
        // 设置
        st_lighting: "场景光照",
        st_ambient: "环境光强度",
        st_dir: "直射光强度",
        st_bg: "背景颜色",
        st_lang: "界面语言",
        st_import_settings: "导入设置",
        st_theme: "界面主题",
        st_monitor: "显示性能面板",
        st_instancing: "实例化渲染",
        st_viewport: "视口设置",
        st_viewcube_size: "导航方块大小",
        st_frustum_culling: "视锥体剔除",
        unsupported_format: "不支持的文件格式",
        theme_dark: "深色模式",
        theme_light: "浅色模式",
        ready: "就绪",
        all_chunks_loaded: "所有模型分片已加载",
        loading_chunks: "分片",
        loading_cad_engine: "正在加载 CAD 引擎...",
        parsing_cad_data: "正在解析 CAD 数据...",
        creating_geometry: "正在生成几何体...",
        error_cad_parse_failed: "CAD 文件解析失败",
        model_loaded: "模型加载完成",
        confirm_clear_title: "清空场景",
        confirm_clear_msg: "确定要清空场景中的所有模型吗？",
        menu_about: "关于",
        about_title: "关于 3D Browser",
        about_author: "作者",
        about_license: "授权协议",
        about_license_nc: "仅限非商业用途",
        error_title: "应用发生错误",
        error_msg: "抱歉，程序运行过程中遇到了未预期的错误。您可以尝试重新加载页面，或联系开发人员。",
        error_reload: "重新加载页面",
        viewpoint_title: "视点管理",
        viewpoint_save: "保存当前视点",
        viewpoint_empty: "暂无保存的视点",
    }
};

export const getTranslation = (lang: Lang, key: string): string => {
    return resources[lang][key] || key;
};
